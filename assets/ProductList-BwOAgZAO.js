import{u as G}from"./foodDataStore-DC37HNJS.js";import{m as Nt,a as vt,_ as Tt,o as k,c as O,b as s,F as H,r as J,t as g,d as ct,w as Ct,v as xt,e as St,f as kt}from"./index-DaWMbUU1.js";var F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ot(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var wt={exports:{}},tt={exports:{}},et={exports:{}};/*!
  * Bootstrap data.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var dt;function Mt(){return dt||(dt=1,function(l,e){(function(i,a){l.exports=a()})(F,function(){const i=new Map;return{set(u,n,r){i.has(u)||i.set(u,new Map);const t=i.get(u);if(!t.has(n)&&t.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(t.keys())[0]}.`);return}t.set(n,r)},get(u,n){return i.has(u)&&i.get(u).get(n)||null},remove(u,n){if(!i.has(u))return;const r=i.get(u);r.delete(n),r.size===0&&i.delete(u)}}})}(et)),et.exports}var st={exports:{}},Q={exports:{}};/*!
  * Bootstrap index.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var ft;function K(){return ft||(ft=1,function(l,e){(function(i,a){a(e)})(F,function(i){const n="transitionend",r=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(d,c)=>`#${CSS.escape(c)}`)),o),t=o=>o==null?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),p=o=>{do o+=Math.floor(Math.random()*1e6);while(document.getElementById(o));return o},m=o=>{if(!o)return 0;let{transitionDuration:d,transitionDelay:c}=window.getComputedStyle(o);const T=Number.parseFloat(d),D=Number.parseFloat(c);return!T&&!D?0:(d=d.split(",")[0],c=c.split(",")[0],(Number.parseFloat(d)+Number.parseFloat(c))*1e3)},v=o=>{o.dispatchEvent(new Event(n))},y=o=>!o||typeof o!="object"?!1:(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),_=o=>y(o)?o.jquery?o[0]:o:typeof o=="string"&&o.length>0?document.querySelector(r(o)):null,b=o=>{if(!y(o)||o.getClientRects().length===0)return!1;const d=getComputedStyle(o).getPropertyValue("visibility")==="visible",c=o.closest("details:not([open])");if(!c)return d;if(c!==o){const T=o.closest("summary");if(T&&T.parentNode!==c||T===null)return!1}return d},x=o=>!o||o.nodeType!==Node.ELEMENT_NODE||o.classList.contains("disabled")?!0:typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&o.getAttribute("disabled")!=="false",I=o=>{if(!document.documentElement.attachShadow)return null;if(typeof o.getRootNode=="function"){const d=o.getRootNode();return d instanceof ShadowRoot?d:null}return o instanceof ShadowRoot?o:o.parentNode?I(o.parentNode):null},L=()=>{},w=o=>{o.offsetHeight},R=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,P=[],B=o=>{document.readyState==="loading"?(P.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of P)d()}),P.push(o)):o()},Y=()=>document.documentElement.dir==="rtl",h=o=>{B(()=>{const d=R();if(d){const c=o.NAME,T=d.fn[c];d.fn[c]=o.jQueryInterface,d.fn[c].Constructor=o,d.fn[c].noConflict=()=>(d.fn[c]=T,o.jQueryInterface)}})},f=(o,d=[],c=o)=>typeof o=="function"?o(...d):c,E=(o,d,c=!0)=>{if(!c){f(o);return}const D=m(d)+5;let C=!1;const M=({target:W})=>{W===d&&(C=!0,d.removeEventListener(n,M),f(o))};d.addEventListener(n,M),setTimeout(()=>{C||v(d)},D)},A=(o,d,c,T)=>{const D=o.length;let C=o.indexOf(d);return C===-1?!c&&T?o[D-1]:o[0]:(C+=c?1:-1,T&&(C=(C+D)%D),o[Math.max(0,Math.min(C,D-1))])};i.defineJQueryPlugin=h,i.execute=f,i.executeAfterTransition=E,i.findShadowRoot=I,i.getElement=_,i.getNextActiveElement=A,i.getTransitionDurationFromElement=m,i.getUID=p,i.getjQuery=R,i.isDisabled=x,i.isElement=y,i.isRTL=Y,i.isVisible=b,i.noop=L,i.onDOMContentLoaded=B,i.parseSelector=r,i.reflow=w,i.toType=t,i.triggerTransitionEnd=v,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})})}(Q,Q.exports)),Q.exports}/*!
  * Bootstrap event-handler.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var ht;function j(){return ht||(ht=1,function(l,e){(function(i,a){l.exports=a(K())})(F,function(i){const a=/[^.]*(?=\..*)\.|.*/,u=/\..*/,n=/::\d+$/,r={};let t=1;const p={mouseenter:"mouseover",mouseleave:"mouseout"},m=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function v(h,f){return f&&`${f}::${t++}`||h.uidEvent||t++}function y(h){const f=v(h);return h.uidEvent=f,r[f]=r[f]||{},r[f]}function _(h,f){return function E(A){return Y(A,{delegateTarget:h}),E.oneOff&&B.off(h,A.type,f),f.apply(h,[A])}}function b(h,f,E){return function A(o){const d=h.querySelectorAll(f);for(let{target:c}=o;c&&c!==this;c=c.parentNode)for(const T of d)if(T===c)return Y(o,{delegateTarget:c}),A.oneOff&&B.off(h,o.type,f,E),E.apply(c,[o])}}function x(h,f,E=null){return Object.values(h).find(A=>A.callable===f&&A.delegationSelector===E)}function I(h,f,E){const A=typeof f=="string",o=A?E:f||E;let d=P(h);return m.has(d)||(d=h),[A,o,d]}function L(h,f,E,A,o){if(typeof f!="string"||!h)return;let[d,c,T]=I(f,E,A);f in p&&(c=(Z=>function(N){if(!N.relatedTarget||N.relatedTarget!==N.delegateTarget&&!N.delegateTarget.contains(N.relatedTarget))return Z.call(this,N)})(c));const D=y(h),C=D[T]||(D[T]={}),M=x(C,c,d?E:null);if(M){M.oneOff=M.oneOff&&o;return}const W=v(c,f.replace(a,"")),V=d?b(h,E,c):_(h,c);V.delegationSelector=d?E:null,V.callable=c,V.oneOff=o,V.uidEvent=W,C[W]=V,h.addEventListener(T,V,d)}function w(h,f,E,A,o){const d=x(f[E],A,o);d&&(h.removeEventListener(E,d,!!o),delete f[E][d.uidEvent])}function R(h,f,E,A){const o=f[E]||{};for(const[d,c]of Object.entries(o))d.includes(A)&&w(h,f,E,c.callable,c.delegationSelector)}function P(h){return h=h.replace(u,""),p[h]||h}const B={on(h,f,E,A){L(h,f,E,A,!1)},one(h,f,E,A){L(h,f,E,A,!0)},off(h,f,E,A){if(typeof f!="string"||!h)return;const[o,d,c]=I(f,E,A),T=c!==f,D=y(h),C=D[c]||{},M=f.startsWith(".");if(typeof d<"u"){if(!Object.keys(C).length)return;w(h,D,c,d,o?E:null);return}if(M)for(const W of Object.keys(D))R(h,D,W,f.slice(1));for(const[W,V]of Object.entries(C)){const q=W.replace(n,"");(!T||f.includes(q))&&w(h,D,c,V.callable,V.delegationSelector)}},trigger(h,f,E){if(typeof f!="string"||!h)return null;const A=i.getjQuery(),o=P(f),d=f!==o;let c=null,T=!0,D=!0,C=!1;d&&A&&(c=A.Event(f,E),A(h).trigger(c),T=!c.isPropagationStopped(),D=!c.isImmediatePropagationStopped(),C=c.isDefaultPrevented());const M=Y(new Event(f,{bubbles:T,cancelable:!0}),E);return C&&M.preventDefault(),D&&h.dispatchEvent(M),M.defaultPrevented&&c&&c.preventDefault(),M}};function Y(h,f={}){for(const[E,A]of Object.entries(f))try{h[E]=A}catch{Object.defineProperty(h,E,{configurable:!0,get(){return A}})}return h}return B})}(st)),st.exports}var nt={exports:{}},ot={exports:{}};/*!
  * Bootstrap manipulator.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var pt;function Dt(){return pt||(pt=1,function(l,e){(function(i,a){l.exports=a()})(F,function(){function i(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function a(n){return n.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}return{setDataAttribute(n,r,t){n.setAttribute(`data-bs-${a(r)}`,t)},removeDataAttribute(n,r){n.removeAttribute(`data-bs-${a(r)}`)},getDataAttributes(n){if(!n)return{};const r={},t=Object.keys(n.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of t){let m=p.replace(/^bs/,"");m=m.charAt(0).toLowerCase()+m.slice(1,m.length),r[m]=i(n.dataset[p])}return r},getDataAttribute(n,r){return i(n.getAttribute(`data-bs-${a(r)}`))}}})}(ot)),ot.exports}/*!
  * Bootstrap config.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var mt;function ut(){return mt||(mt=1,function(l,e){(function(i,a){l.exports=a(Dt(),K())})(F,function(i,a){class u{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,t){const p=a.isElement(t)?i.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof p=="object"?p:{},...a.isElement(t)?i.getDataAttributes(t):{},...typeof r=="object"?r:{}}}_typeCheckConfig(r,t=this.constructor.DefaultType){for(const[p,m]of Object.entries(t)){const v=r[p],y=a.isElement(v)?"element":a.toType(v);if(!new RegExp(m).test(y))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${p}" provided type "${y}" but expected type "${m}".`)}}}return u})}(nt)),nt.exports}/*!
  * Bootstrap base-component.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var _t;function It(){return _t||(_t=1,function(l,e){(function(i,a){l.exports=a(Mt(),j(),ut(),K())})(F,function(i,a,u,n){const r="5.3.3";class t extends u{constructor(m,v){super(),m=n.getElement(m),m&&(this._element=m,this._config=this._getConfig(v),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),a.off(this._element,this.constructor.EVENT_KEY);for(const m of Object.getOwnPropertyNames(this))this[m]=null}_queueCallback(m,v,y=!0){n.executeAfterTransition(m,v,y)}_getConfig(m){return m=this._mergeConfigObj(m,this._element),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}static getInstance(m){return i.get(n.getElement(m),this.DATA_KEY)}static getOrCreateInstance(m,v={}){return this.getInstance(m)||new this(m,typeof v=="object"?v:null)}static get VERSION(){return r}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(m){return`${m}${this.EVENT_KEY}`}}return t})}(tt)),tt.exports}var rt={exports:{}};/*!
  * Bootstrap selector-engine.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var gt;function X(){return gt||(gt=1,function(l,e){(function(i,a){l.exports=a(K())})(F,function(i){const a=n=>{let r=n.getAttribute("data-bs-target");if(!r||r==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),r=t&&t!=="#"?t.trim():null}return r?r.split(",").map(t=>i.parseSelector(t)).join(","):null},u={find(n,r=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(r,n))},findOne(n,r=document.documentElement){return Element.prototype.querySelector.call(r,n)},children(n,r){return[].concat(...n.children).filter(t=>t.matches(r))},parents(n,r){const t=[];let p=n.parentNode.closest(r);for(;p;)t.push(p),p=p.parentNode.closest(r);return t},prev(n,r){let t=n.previousElementSibling;for(;t;){if(t.matches(r))return[t];t=t.previousElementSibling}return[]},next(n,r){let t=n.nextElementSibling;for(;t;){if(t.matches(r))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(r,n).filter(t=>!i.isDisabled(t)&&i.isVisible(t))},getSelectorFromElement(n){const r=a(n);return r&&u.findOne(r)?r:null},getElementFromSelector(n){const r=a(n);return r?u.findOne(r):null},getMultipleElementsFromSelector(n){const r=a(n);return r?u.find(r):[]}};return u})}(rt)),rt.exports}var it={exports:{}};/*!
  * Bootstrap backdrop.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var bt;function Lt(){return bt||(bt=1,function(l,e){(function(i,a){l.exports=a(j(),ut(),K())})(F,function(i,a,u){const n="backdrop",r="fade",t="show",p=`mousedown.bs.${n}`,m={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},v={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class y extends a{constructor(b){super(),this._config=this._getConfig(b),this._isAppended=!1,this._element=null}static get Default(){return m}static get DefaultType(){return v}static get NAME(){return n}show(b){if(!this._config.isVisible){u.execute(b);return}this._append();const x=this._getElement();this._config.isAnimated&&u.reflow(x),x.classList.add(t),this._emulateAnimation(()=>{u.execute(b)})}hide(b){if(!this._config.isVisible){u.execute(b);return}this._getElement().classList.remove(t),this._emulateAnimation(()=>{this.dispose(),u.execute(b)})}dispose(){this._isAppended&&(i.off(this._element,p),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const b=document.createElement("div");b.className=this._config.className,this._config.isAnimated&&b.classList.add(r),this._element=b}return this._element}_configAfterMerge(b){return b.rootElement=u.getElement(b.rootElement),b}_append(){if(this._isAppended)return;const b=this._getElement();this._config.rootElement.append(b),i.on(b,p,()=>{u.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(b){u.executeAfterTransition(b,this._getElement(),this._config.isAnimated)}}return y})}(it)),it.exports}var z={exports:{}};/*!
  * Bootstrap component-functions.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Et;function Pt(){return Et||(Et=1,function(l,e){(function(i,a){a(e,j(),X(),K())})(F,function(i,a,u,n){const r=(t,p="hide")=>{const m=`click.dismiss${t.EVENT_KEY}`,v=t.NAME;a.on(document,m,`[data-bs-dismiss="${v}"]`,function(y){if(["A","AREA"].includes(this.tagName)&&y.preventDefault(),n.isDisabled(this))return;const _=u.getElementFromSelector(this)||this.closest(`.${v}`);t.getOrCreateInstance(_)[p]()})};i.enableDismissTrigger=r,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})})}(z,z.exports)),z.exports}var at={exports:{}};/*!
  * Bootstrap focustrap.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var yt;function Rt(){return yt||(yt=1,function(l,e){(function(i,a){l.exports=a(j(),X(),ut())})(F,function(i,a,u){const n="focustrap",t=".bs.focustrap",p=`focusin${t}`,m=`keydown.tab${t}`,v="Tab",y="forward",_="backward",b={autofocus:!0,trapElement:null},x={autofocus:"boolean",trapElement:"element"};class I extends u{constructor(w){super(),this._config=this._getConfig(w),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return b}static get DefaultType(){return x}static get NAME(){return n}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),i.off(document,t),i.on(document,p,w=>this._handleFocusin(w)),i.on(document,m,w=>this._handleKeydown(w)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,i.off(document,t))}_handleFocusin(w){const{trapElement:R}=this._config;if(w.target===document||w.target===R||R.contains(w.target))return;const P=a.focusableChildren(R);P.length===0?R.focus():this._lastTabNavDirection===_?P[P.length-1].focus():P[0].focus()}_handleKeydown(w){w.key===v&&(this._lastTabNavDirection=w.shiftKey?_:y)}}return I})}(at)),at.exports}var lt={exports:{}};/*!
  * Bootstrap scrollbar.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var At;function Ft(){return At||(At=1,function(l,e){(function(i,a){l.exports=a(Dt(),X(),K())})(F,function(i,a,u){const n=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",r=".sticky-top",t="padding-right",p="margin-right";class m{constructor(){this._element=document.body}getWidth(){const y=document.documentElement.clientWidth;return Math.abs(window.innerWidth-y)}hide(){const y=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,t,_=>_+y),this._setElementAttributes(n,t,_=>_+y),this._setElementAttributes(r,p,_=>_-y)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,t),this._resetElementAttributes(n,t),this._resetElementAttributes(r,p)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(y,_,b){const x=this.getWidth(),I=L=>{if(L!==this._element&&window.innerWidth>L.clientWidth+x)return;this._saveInitialAttribute(L,_);const w=window.getComputedStyle(L).getPropertyValue(_);L.style.setProperty(_,`${b(Number.parseFloat(w))}px`)};this._applyManipulationCallback(y,I)}_saveInitialAttribute(y,_){const b=y.style.getPropertyValue(_);b&&i.setDataAttribute(y,_,b)}_resetElementAttributes(y,_){const b=x=>{const I=i.getDataAttribute(x,_);if(I===null){x.style.removeProperty(_);return}i.removeDataAttribute(x,_),x.style.setProperty(_,I)};this._applyManipulationCallback(y,b)}_applyManipulationCallback(y,_){if(u.isElement(y)){_(y);return}for(const b of a.find(y,this._element))_(b)}}return m})}(lt)),lt.exports}/*!
  * Bootstrap modal.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(l,e){(function(i,a){l.exports=a(It(),j(),X(),Lt(),Pt(),Rt(),K(),Ft())})(F,function(i,a,u,n,r,t,p,m){const v="modal",_=".bs.modal",b=".data-api",x="Escape",I=`hide${_}`,L=`hidePrevented${_}`,w=`hidden${_}`,R=`show${_}`,P=`shown${_}`,B=`resize${_}`,Y=`click.dismiss${_}`,h=`mousedown.dismiss${_}`,f=`keydown.dismiss${_}`,E=`click${_}${b}`,A="modal-open",o="fade",d="show",c="modal-static",T=".modal.show",D=".modal-dialog",C=".modal-body",M='[data-bs-toggle="modal"]',W={backdrop:!0,focus:!0,keyboard:!0},V={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class q extends i{constructor(N,S){super(N,S),this._dialog=u.findOne(D,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new m,this._addEventListeners()}static get Default(){return W}static get DefaultType(){return V}static get NAME(){return v}toggle(N){return this._isShown?this.hide():this.show(N)}show(N){this._isShown||this._isTransitioning||a.trigger(this._element,R,{relatedTarget:N}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(A),this._adjustDialog(),this._backdrop.show(()=>this._showElement(N)))}hide(){!this._isShown||this._isTransitioning||a.trigger(this._element,I).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(d),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){a.off(window,_),a.off(this._dialog,_),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new n({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new t({trapElement:this._element})}_showElement(N){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const S=u.findOne(C,this._dialog);S&&(S.scrollTop=0),p.reflow(this._element),this._element.classList.add(d);const $=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,a.trigger(this._element,P,{relatedTarget:N})};this._queueCallback($,this._dialog,this._isAnimated())}_addEventListeners(){a.on(this._element,f,N=>{if(N.key===x){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),a.on(window,B,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),a.on(this._element,h,N=>{a.one(this._element,Y,S=>{if(!(this._element!==N.target||this._element!==S.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(A),this._resetAdjustments(),this._scrollBar.reset(),a.trigger(this._element,w)})}_isAnimated(){return this._element.classList.contains(o)}_triggerBackdropTransition(){if(a.trigger(this._element,L).defaultPrevented)return;const S=this._element.scrollHeight>document.documentElement.clientHeight,$=this._element.style.overflowY;$==="hidden"||this._element.classList.contains(c)||(S||(this._element.style.overflowY="hidden"),this._element.classList.add(c),this._queueCallback(()=>{this._element.classList.remove(c),this._queueCallback(()=>{this._element.style.overflowY=$},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const N=this._element.scrollHeight>document.documentElement.clientHeight,S=this._scrollBar.getWidth(),$=S>0;if($&&!N){const U=p.isRTL()?"paddingLeft":"paddingRight";this._element.style[U]=`${S}px`}if(!$&&N){const U=p.isRTL()?"paddingRight":"paddingLeft";this._element.style[U]=`${S}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(N,S){return this.each(function(){const $=q.getOrCreateInstance(this,N);if(typeof N=="string"){if(typeof $[N]>"u")throw new TypeError(`No method named "${N}"`);$[N](S)}})}}return a.on(document,E,M,function(Z){const N=u.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Z.preventDefault(),a.one(N,R,U=>{U.defaultPrevented||a.one(N,w,()=>{p.isVisible(this)&&this.focus()})});const S=u.findOne(T);S&&q.getInstance(S).hide(),q.getOrCreateInstance(N).toggle(this)}),r.enableDismissTrigger(q),p.defineJQueryPlugin(q),q})})(wt);var Vt=wt.exports;const $t=Ot(Vt),Wt={data(){return{modal:null,nutrients:[],filteredNutrients:[],addNutrients:[],product:null,productList:null}},computed:{...Nt(G,["headerChineseAndEnglish","myProductList"])},methods:{...vt(G,["addMyProduct"]),searchNutrient(l){const e=[];Object.values(this.nutrients).filter(i=>{i.match(l)&&e.push(i)}),this.filteredNutrients=e},updateFilterData(){const l={...this.headerChineseAndEnglish};["id","category","sample_name","common_name","content_description","scrap_rate","calories","corrected_calories","protein","fat","saturated_fat","total_carbohydrates","total_sugar","sodium","trans_fat"].forEach(e=>{delete l[e]}),this.filteredNutrients=l,this.nutrients=l},addNTs(){this.productList.forEach(l=>{l.id===this.product.id&&(l.addNutrients=this.addNutrients)}),this.addMyProduct(this.productList),this.hideModal()},showModal(l){this.product={...l},l.addNutrients&&(this.addNutrients=l.addNutrients),this.modal.show()},hideModal(){this.modal.hide()}},created(){this.updateFilterData(),this.productList=this.myProductList},mounted(){this.modal=new $t(this.$refs.nutrientsModal)}},qt={ref:"nutrientsModal",class:"modal",tabindex:"-1"},Bt={class:"modal-dialog modal-dialog-scrollable"},Kt={class:"modal-content"},Yt={class:"modal-header flex-column align-items-start"},Ut={class:"w-100 form-floating"},jt={key:0,class:"mt-3 d-flex flex-wrap justify-content-start align-items-center"},Qt={class:"modal-body"},zt=["id","value"],Gt=["for"],Ht={class:"modal-footer"};function Jt(l,e,i,a,u,n){return k(),O("div",qt,[s("div",Bt,[s("div",Kt,[s("div",Yt,[e[5]||(e[5]=s("div",{class:"w-100 mb-3 p-2 d-flex justify-content-between"},[s("h5",{class:"modal-title"},"新增其他營養素"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),s("section",Ut,[s("input",{onChange:e[0]||(e[0]=r=>n.searchNutrient(r.target.value)),type:"search",class:"form-control",id:"searchInput",placeholder:"請輸入欲新增營養素搜尋"},null,32),e[3]||(e[3]=s("label",{for:"searchInput"},"請輸入營養素搜尋",-1))]),u.addNutrients.length>0?(k(),O("div",jt,[e[4]||(e[4]=s("span",{class:"ms-1"},"已新增營養素：",-1)),(k(!0),O(H,null,J(u.addNutrients,r=>(k(),O("span",{key:r,class:"border badge text-bg-light fs-6 m-1"},g(u.filteredNutrients[r]),1))),128))])):ct("",!0)]),s("div",Qt,[(k(!0),O(H,null,J(u.filteredNutrients,(r,t)=>(k(),O("div",{key:t,class:"form-check px-4 py-1 ms-2"},[Ct(s("input",{"onUpdate:modelValue":e[1]||(e[1]=p=>u.addNutrients=p),class:"form-check-input",type:"checkbox",id:r,value:t},null,8,zt),[[xt,u.addNutrients]]),s("label",{class:"form-check-label",for:r},g(r),9,Gt)]))),128))]),s("div",Ht,[e[6]||(e[6]=s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," 取消 ",-1)),s("button",{onClick:e[2]||(e[2]=(...r)=>n.addNTs&&n.addNTs(...r)),type:"button",class:"btn btn-primary"}," 新增 ")])])])],512)}const Xt=Tt(Wt,[["render",Jt]]),Zt={data(){return{addNutrients:[]}},components:{AddNutrientsModal:Xt},computed:{...Nt(G,["myProductList","headerChineseAndEnglish"])},methods:{...vt(G,["getMyProductList"]),openModal(l){this.$refs.addNutrientsModal.showModal(l)},sorted(l){return l.sort((e,i)=>i.grams-e.grams).map(e=>`${e.foodName}`).join("、")},calculateNutrients(l,e){return(l.ingredients.reduce((a,u)=>{const n=u.grams/100,r=u.details[`${e}`]||0;return a+r*n},0)/l.numberOfCopy).toFixed(1)},calculateCalories(l){const e=parseFloat(this.calculateNutrients(l,"protein")),i=parseFloat(this.calculateNutrients(l,"fat")),a=parseFloat(this.calculateNutrients(l,"total_carbohydrates"));return(e*4+i*9+a*4).toFixed(1)},calculatePer100g(l,e){return(l.ingredients.reduce((a,u)=>{const n=u.grams/100,r=u.details[`${e}`]||0;return a+r*n},0)/(l.netWeightInformation.netWeight*l.numberOfCopy)*100).toFixed(1)},calculatePer100gCalories(l){const e=parseFloat(this.calculatePer100g(l,"protein")),i=parseFloat(this.calculatePer100g(l,"fat")),a=parseFloat(this.calculatePer100g(l,"total_carbohydrates"));return(e*4+i*9+a*4).toFixed(1)},transUnitText(l){const e={g:"公克",ug:"微克",mg:"毫克",IU:"國際單位","":""},i=l.match(/\((g|ug|mg|IU)\)/);return i===null?"":e[i[1]]}},created(){this.getMyProductList()}},te={class:"container my-4"},ee={class:"bg-light p-3 rounded col-12 col-xl-7 col-xxl-8 markItemsContainer"},se={class:"d-flex"},ne={class:"col"},oe={class:"d-flex"},re={class:"col"},ie={key:0,class:"d-flex"},ae={class:"col"},le={key:1,class:"d-flex"},ce={class:"col"},ue={class:"d-flex"},de={class:"col"},fe={class:"d-flex"},he={key:0,class:"col"},pe={key:1,class:"col"},me={class:"d-flex"},_e={key:0,class:"col"},ge={key:1,class:"col"},be={class:"d-flex"},Ee={class:"col"},ye={class:"d-flex"},Ae={class:"col"},Ne={class:"d-flex"},ve={class:"col"},Te={class:"d-flex"},we={class:"col"},De={class:"col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5 col-xxl-4 p-3"},Ce={class:"table table-sm table-borderless border border-black mb-0"},xe={colspan:"2",class:"lh-sm"},Se={class:"lh-1 border-bottom border-black"},ke={colspan:"2"},Oe={class:"lh-sm border-bottom border-black"},Me={class:"text-end pe-2"},Ie={class:"lh-1"},Le={class:"text-end pe-2"},Pe={class:"text-end pe-2"},Re={class:"lh-1"},Fe={class:"text-end pe-2"},Ve={class:"text-end pe-2"},$e={class:"lh-1"},We={class:"text-end pe-2"},qe={class:"text-end pe-2"},Be={class:"lh-1"},Ke={class:"text-end pe-2"},Ye={class:"text-end pe-2"},Ue={class:"lh-1"},je={class:"text-end pe-2"},Qe={class:"text-end pe-2"},ze={class:"lh-1"},Ge={class:"text-end pe-2"},He={class:"text-end pe-2"},Je={class:"lh-1"},Xe={class:"text-end pe-2"},Ze={class:"text-end pe-2"},ts={class:"lh-1"},es={class:"text-end pe-2"},ss={class:"text-end pe-2"},ns={class:"fw-normal ps-2"},os={class:"text-end pe-2"},rs={class:"text-end pe-2"},is={class:"my-3"},as=["onClick"];function ls(l,e,i,a,u,n){const r=kt("AddNutrientsModal");return k(),O("div",te,[e[35]||(e[35]=s("h3",{class:"text-center mb-5"},"營養標示列表",-1)),(k(!0),O(H,null,J(l.myProductList,t=>(k(),O("div",{key:t.id,class:"border rounded row m-0 my-5"},[s("section",ee,[s("div",se,[e[0]||(e[0]=s("p",{class:"markItemsTitle"},"品名",-1)),e[1]||(e[1]=s("i",{class:"fst-normal"},"：",-1)),s("p",ne,g(t.title),1)]),s("div",oe,[e[2]||(e[2]=s("p",{class:"markItemsTitle"},"成分",-1)),e[3]||(e[3]=s("i",{class:"fst-normal"},"：",-1)),s("p",re,g(n.sorted(t.ingredients)),1)]),t.geneticallyModified.GMFStatus==="yes"?(k(),O("div",ie,[e[4]||(e[4]=s("p",{class:"markItemsTitle"},"過敏原資訊",-1)),e[5]||(e[5]=s("i",{class:"fst-normal"},"：",-1)),s("p",ae,g(t.geneticallyModified.GMFs.join("、")),1)])):ct("",!0),t.allergenInformation.allergenStatus==="yes"?(k(),O("div",le,[e[6]||(e[6]=s("p",{class:"markItemsTitle"},"過敏原資訊",-1)),e[7]||(e[7]=s("i",{class:"fst-normal"},"：",-1)),s("p",ce,g(t.allergenInformation.allergens.join("、")),1)])):ct("",!0),s("div",ue,[e[8]||(e[8]=s("p",{class:"markItemsTitle"},"淨重",-1)),e[9]||(e[9]=s("i",{class:"fst-normal"},"：",-1)),s("p",de,g(t.netWeightInformation.netWeight)+" "+g(t.netWeightInformation.unit),1)]),s("div",fe,[e[10]||(e[10]=s("p",{class:"markItemsTitle"},"保存期限",-1)),e[11]||(e[11]=s("i",{class:"fst-normal"},"：",-1)),t.validDaysInformation.validDays?(k(),O("p",he,g(t.validDaysInformation.validDays)+" 天 ",1)):(k(),O("p",pe,g(t.validDaysInformation.validDaysStatus),1))]),s("div",me,[e[12]||(e[12]=s("p",{class:"markItemsTitle"},"有效日期",-1)),e[13]||(e[13]=s("i",{class:"fst-normal"},"：",-1)),t.validDateInformation.validDate?(k(),O("p",_e,g(t.validDateInformation.validDate),1)):(k(),O("p",ge,g(t.validDateInformation.validDateStatus),1))]),s("div",be,[e[14]||(e[14]=s("p",{class:"markItemsTitle"},"原產地",-1)),e[15]||(e[15]=s("i",{class:"fst-normal"},"：",-1)),s("p",Ee,g(t.origin),1)]),s("div",ye,[e[16]||(e[16]=s("p",{class:"markItemsTitle"},"廠商名稱",-1)),e[17]||(e[17]=s("i",{class:"fst-normal"},"：",-1)),s("p",Ae,g(t.manufacturer),1)]),s("div",Ne,[e[18]||(e[18]=s("p",{class:"markItemsTitle"},"廠商地址",-1)),e[19]||(e[19]=s("i",{class:"fst-normal"},"：",-1)),s("p",ve,g(t.manufacturerAddress),1)]),s("div",Te,[e[20]||(e[20]=s("p",{class:"markItemsTitle"},"廠商電話",-1)),e[21]||(e[21]=s("i",{class:"fst-normal"},"：",-1)),s("p",we,g(t.manufacturerPhone),1)])]),s("section",De,[s("table",Ce,[e[34]||(e[34]=s("thead",null,[s("tr",{class:"lh-sm border-bottom border-black"},[s("th",{colspan:"3",class:"text-center fw-normal"},"營養標示")])],-1)),s("tbody",null,[s("tr",null,[e[22]||(e[22]=s("th",{class:"fw-normal ps-2 lh-sm"},"每一份量",-1)),s("td",xe,g(t.netWeightInformation.netWeight)+" "+g(t.netWeightInformation.unit),1)]),s("tr",Se,[e[23]||(e[23]=s("th",{class:"fw-normal ps-2"},"本包裝含",-1)),s("td",ke,g(t.productQty)+" 份",1)]),s("tr",Oe,[e[24]||(e[24]=s("th",null,null,-1)),e[25]||(e[25]=s("td",{class:"text-end pe-2"},"每份",-1)),s("td",Me," 每 100 "+g(t.netWeightInformation.unit),1)]),s("tr",Ie,[e[26]||(e[26]=s("th",{class:"fw-normal ps-2"},"熱量",-1)),s("td",Le,g(n.calculateCalories(t))+" 大卡",1),s("td",Pe,g(n.calculatePer100gCalories(t))+" 大卡 ",1)]),s("tr",Re,[e[27]||(e[27]=s("th",{class:"fw-normal ps-2"},"蛋白質",-1)),s("td",Fe,g(n.calculateNutrients(t,"protein"))+" 公克 ",1),s("td",Ve,g(n.calculatePer100g(t,"protein"))+" 公克 ",1)]),s("tr",$e,[e[28]||(e[28]=s("th",{class:"fw-normal ps-2"},"脂肪",-1)),s("td",We,g(n.calculateNutrients(t,"fat"))+" 公克 ",1),s("td",qe,g(n.calculatePer100g(t,"fat"))+" 公克 ",1)]),s("tr",Be,[e[29]||(e[29]=s("th",{class:"fw-normal ps-4"},"飽和脂肪",-1)),s("td",Ke,g(n.calculateNutrients(t,"saturated_fat"))+" 公克 ",1),s("td",Ye,g(n.calculatePer100g(t,"saturated_fat"))+" 公克 ",1)]),s("tr",Ue,[e[30]||(e[30]=s("th",{class:"fw-normal ps-4"},"反式脂肪",-1)),s("td",je,g(n.calculateNutrients(t,"trans_fat"))+" 公克 ",1),s("td",Qe,g(n.calculatePer100g(t,"trans_fat"))+" 公克 ",1)]),s("tr",ze,[e[31]||(e[31]=s("th",{class:"fw-normal ps-2"},"碳水化合物",-1)),s("td",Ge,g(n.calculateNutrients(t,"total_carbohydrates"))+" 公克 ",1),s("td",He,g(n.calculatePer100g(t,"total_carbohydrates"))+" 公克 ",1)]),s("tr",Je,[e[32]||(e[32]=s("th",{class:"fw-normal ps-4"},"糖",-1)),s("td",Xe,g(n.calculateNutrients(t,"total_sugar"))+" 公克 ",1),s("td",Ze,g(n.calculatePer100g(t,"total_sugar"))+" 公克 ",1)]),s("tr",ts,[e[33]||(e[33]=s("th",{class:"fw-normal ps-2"},"鈉",-1)),s("td",es,g(n.calculateNutrients(t,"sodium"))+" 毫克 ",1),s("td",ss,g(n.calculatePer100g(t,"sodium"))+" 毫克 ",1)]),(k(!0),O(H,null,J(t.addNutrients,p=>(k(),O("tr",{key:p,class:"lh-1"},[s("th",ns,g(l.headerChineseAndEnglish[p].replace(/\(.*\)/,"")),1),s("td",os,g(n.calculateNutrients(t,p))+" "+g(n.transUnitText(l.headerChineseAndEnglish[p])),1),s("td",rs,g(n.calculatePer100g(t,p))+" "+g(n.transUnitText(l.headerChineseAndEnglish[p])),1)]))),128))])])]),s("div",is,[s("button",{onClick:p=>n.openModal(t),type:"button",class:"btn btn-primary"}," 新增其他營養素 ",8,as)])]))),128)),St(r,{ref:"addNutrientsModal"},null,512)])}const ds=Tt(Zt,[["render",ls],["__scopeId","data-v-ec646e6e"]]);export{ds as default};
