import{_ as v,m as f,g as y,c as a,d as s,a as p,w as C,F as b,e as _,r as x,o as r,b as g,t as l,n as w}from"./index-B2AOrsMC.js";import{D as L,u as k}from"./DoubleCheckModal-CpxpnQ_P.js";import{u as A}from"./foodDataStore-CuRjDprF.js";import"./component-functions-BBVq3xqC.js";import"./messageStore-D4ipyxXN.js";const F={data(){return{updateCustomData:[]}},components:{DoubleCheckModal:L},computed:{...f(k,["customDataList","customFood"]),...f(A,["headerChineseAndEnglish"])},watch:{customDataList:{handler(e){e&&this.sortItem()},deep:!0,immediate:!0}},methods:{...y(k,["editCustomFood","delItemOfCustomList"]),sortItem(){this.updateCustomData=this.customDataList,this.updateCustomData.sort((e,t)=>t.id-e.id),this.updateData()},updateData(){this.updateCustomData=this.customDataList.map(({sample_name:e,content_description:t,category:o,id:u,...c})=>({sample_name:e,content_description:t,category:o,id:u,nutritionLabels:c}))},transText(e){const o=this.headerChineseAndEnglish[e].replace(/\(.*\)/,"");return{粗蛋白:"蛋白質",粗脂肪:"脂肪",總碳水化合物:"碳水化合物",糖質總量:"糖"}[o]||o},transUnitText(e){const t={kcal:"大卡",g:"公克",ug:"微克",mg:"毫克",IU:"國際單位"},o=e.match(/\((kcal|g|ug|mg|IU)\)/);return o===null?"":t[o[1]]},edit(e){this.editCustomFood(e)},opendelModal(e,t){this.$refs.doubleCheckModal.showDelCustomModal(e,t)}}},U={class:"container"},I={class:"text-end"},T={class:"bg-light p-3 rounded col"},E={class:"d-flex"},S={class:"mb-0"},B={class:"d-flex"},N={class:"mb-0"},V={class:"col-auto d-flex justify-content-end p-3"},j={class:"border border-black"},$={class:"text-end px-2"},z={class:"text-end my-3"},O=["onClick"];function q(e,t,o,u,c,d){const h=x("router-link"),D=x("DoubleCheckModal");return r(),a(b,null,[s("div",U,[t[8]||(t[8]=s("h3",{class:"text-center mb-5"},"自定義品項列表",-1)),s("div",I,[p(h,{to:"/custom",class:"btn btn-outline-primary"},{default:C(()=>t[0]||(t[0]=[g(" 新增 ")])),_:1})]),(r(!0),a(b,null,_(c.updateCustomData,(n,M)=>(r(),a("div",{key:n,class:"border rounded row m-0 my-5 justify-content-between"},[s("section",T,[s("div",E,[t[1]||(t[1]=s("p",{class:"mb-0"},"品名",-1)),t[2]||(t[2]=s("i",{class:"fst-normal"},"：",-1)),s("p",S,l(n.sample_name),1)]),s("div",B,[t[3]||(t[3]=s("p",{class:"mb-0"},"成分",-1)),t[4]||(t[4]=s("i",{class:"fst-normal"},"：",-1)),s("p",N,l(n.content_description),1)])]),s("section",V,[s("table",j,[t[6]||(t[6]=s("thead",null,[s("tr",{class:"border-bottom border-black"},[s("th",{colspan:"2",class:"text-center fw-normal"},"營養標示")])],-1)),s("tbody",null,[t[5]||(t[5]=s("tr",{class:"border-bottom border-black"},[s("th"),s("td",{class:"px-2"},"每 100 公克 / 毫升")],-1)),(r(!0),a(b,null,_(n.nutritionLabels,(m,i)=>(r(),a("tr",{key:i},[s("th",{class:w(["px-2 fw-normal",{"ps-4":["trans_fat","total_sugar","saturated_fat"].includes(i)}])},l(d.transText(i)),3),s("td",$,l(m)+" "+l(d.transUnitText(e.headerChineseAndEnglish[i])),1)]))),128))])])]),s("div",z,[p(h,{onClick:m=>d.edit(n),to:"/custom",type:"button",class:"btn btn-outline-primary me-3"},{default:C(()=>t[7]||(t[7]=[g(" 編輯 ")])),_:2},1032,["onClick"]),s("button",{onClick:m=>d.opendelModal(n,M),type:"button",class:"btn btn-outline-danger me-1"}," 刪除 ",8,O)])]))),128))]),p(D,{ref:"doubleCheckModal"},null,512)],64)}const Q=v(F,[["render",q]]);export{Q as default};
